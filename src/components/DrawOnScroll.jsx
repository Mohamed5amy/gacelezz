import { useEffect, useRef } from 'react';
import { gsap } from 'gsap';
import { ScrollTrigger } from 'gsap/ScrollTrigger';
import { Stack } from '@mui/material';

// Register the ScrollTrigger plugin
gsap.registerPlugin(ScrollTrigger);

const Home = () => {
  const svgRef = useRef(null);

  useEffect(() => {
    const paths = svgRef.current.querySelectorAll('path');

    paths.forEach((path) => {
      const length = path.getTotalLength();

      // Set the initial stroke-dasharray and stroke-dashoffset values
      path.style.strokeDasharray = length;
      path.style.strokeDashoffset = length;

      // Create the animation
      gsap.fromTo(
        path,
        { strokeDashoffset: length },
        {
          strokeDashoffset: 0,
          scrollTrigger: {
            trigger: path,
            start: "top 80%",
            end: "bottom 20%",
            scrub: 1,
          },
          duration: 2,
        }
      );
    });
  }, []);

  return (
    <Stack bgcolor={"black"}>
      <Stack height={"100vh"}></Stack>
      <Stack alignItems={"center"} justifyContent={"center"} >

      <svg width="321" height="256" viewBox="0 0 321 256" fill="none" xmlns="http://www.w3.org/2000/svg" ref={svgRef}>
        <path d="M190.592 241.793L134.735 184.165L162.664 158.215C162.664 158.215 162.664 158.215 162.327 157.878C160.308 155.856 158.626 154.171 156.607 152.149L106.134 198.993C102.432 202.363 96.7121 202.363 93.3472 198.993L14.9455 127.21H137.091C135.408 124.514 133.726 121.481 132.043 118.785H4.1779C1.82248 118.785 0.140045 120.807 0.140045 122.829V251.904C0.140045 254.263 2.15897 255.948 4.1779 255.948H194.63C196.985 255.948 198.668 253.926 198.668 251.904V186.861C195.976 185.176 192.948 183.491 190.256 181.469V241.793H190.592ZM8.55224 132.602L64.4092 184.165L8.55224 241.793V132.602ZM14.2725 247.86L70.8025 189.894L87.6269 205.396C90.9918 208.429 95.3661 210.114 99.7405 210.114C104.115 210.114 108.489 208.429 111.854 205.396L128.678 189.894L185.208 247.86H14.2725Z" stroke="#C9C9C9"/>
        <path d="M218.521 66.5482C218.184 68.9073 219.53 70.9293 221.886 71.2663C228.615 72.2773 234.672 75.6475 239.383 80.3656C244.094 85.0837 247.459 91.1499 248.468 97.8901C248.805 99.9122 250.487 101.26 252.506 101.26C252.842 101.26 252.842 101.26 253.179 101.26C255.534 100.923 256.88 98.5642 256.544 96.5421C255.198 88.1168 251.16 80.3656 245.103 74.2994C239.046 68.2332 231.307 64.1891 222.895 62.8411C221.213 62.8411 218.857 64.5261 218.521 66.5482Z" stroke="#EC1C24"/>
        <path d="M280.098 97.8903C280.434 99.9123 282.117 101.597 284.136 101.597H284.472C286.828 101.26 288.51 99.2383 288.174 96.8793C286.491 80.0287 279.089 64.1892 267.311 52.3939C255.534 40.5985 239.719 33.1843 222.895 31.4992C220.54 31.1622 218.521 32.8473 218.184 35.2064C217.848 37.5654 219.53 39.5875 221.886 39.9245C236.691 41.2725 250.824 47.6757 261.255 58.4601C272.022 68.9074 278.752 83.0618 280.098 97.8903Z" stroke="#EC1C24"/>
        <path d="M289.856 30.4881C272.022 12.6265 248.132 1.84218 223.232 0.494141C220.876 0.494141 218.857 2.17919 218.857 4.53826C218.857 6.89734 220.54 8.9194 222.895 8.9194C246.113 10.2674 267.984 20.0407 284.136 36.5542C300.624 53.0678 310.382 74.9734 311.728 97.8901C311.728 100.249 313.747 101.934 315.766 101.934H316.102C318.458 101.934 320.14 99.9122 320.14 97.5531C318.121 71.9404 307.69 48.3496 289.856 30.4881Z" stroke="#EC1C24"/>
        <path d="M285.818 140.354L253.515 123.503C245.776 119.459 236.355 121.481 231.307 128.558L223.232 139.005C215.492 134.287 208.09 129.232 199.677 120.807C190.929 112.045 185.881 104.967 181.171 96.8792L191.265 88.7909C197.995 83.3988 200.014 73.9625 196.313 66.5483L179.825 34.1952C177.469 29.8141 173.431 26.444 168.384 25.096C163.337 23.7479 158.289 24.759 153.915 27.455L133.389 41.2725C126.66 45.9906 122.622 53.7419 122.958 62.1671C123.295 67.8963 123.968 75.9845 125.65 82.0507C132.043 106.315 147.185 131.254 168.048 152.486C189.246 173.718 214.146 188.546 238.374 194.949C244.094 196.634 252.506 197.308 258.226 197.645C258.563 197.645 259.236 197.645 259.572 197.645C267.648 197.645 274.714 193.601 279.089 186.861L292.548 165.966C295.24 161.585 296.249 156.53 294.903 151.812C293.558 146.757 290.529 142.713 285.818 140.354ZM285.818 161.248L272.359 182.143C269.667 186.524 264.956 188.883 259.909 188.883C259.572 188.883 259.236 188.883 258.899 188.883C253.515 188.546 245.776 187.872 240.729 186.524C217.848 180.458 194.294 166.303 174.441 146.083C154.588 126.199 140.119 102.271 134.062 79.6917C132.716 74.6365 132.043 66.8853 131.707 61.4931C131.37 56.1009 133.726 51.0458 138.437 48.0127L158.962 34.1952C160.645 33.1842 162.327 32.5102 164.346 32.5102C165.019 32.5102 166.029 32.5102 166.702 32.8472C169.393 33.5212 171.412 35.2063 172.758 37.5654L189.246 69.9184C191.265 73.9625 190.256 79.0176 186.554 81.7137L173.431 91.824C171.749 93.1721 171.412 95.1941 172.422 97.2162C177.806 106.989 183.526 115.752 193.957 126.199C204.052 136.309 212.8 142.039 222.559 147.431C224.241 148.442 226.596 148.105 227.942 146.42L238.374 133.276C241.065 129.569 246.113 128.558 250.151 130.58L282.453 147.431C284.809 148.779 286.491 150.801 287.164 153.497C287.501 156.193 287.164 159.226 285.818 161.248Z" stroke="#C9C9C9"/>
      </svg>



      </Stack>
      <Stack height={"100vh"}></Stack>
    </Stack>
  );
};

export default Home;

